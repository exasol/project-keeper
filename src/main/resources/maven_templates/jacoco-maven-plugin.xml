<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.8.5</version>
    <executions>
        <execution>
            <id>prepare-agent</id>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
        <execution>
            <id>prepare-agent-integration</id>
            <goals>
                <goal>prepare-agent-integration</goal>
            </goals>
        </execution>
        <execution>
            <id>report</id>
            <phase>test</phase>
            <goals>
                <goal>report</goal>
            </goals>
        </execution>
        <execution>
            <id>report-integration</id>
            <phase>verify</phase>
            <goals>
                <goal>report-integration</goal>
            </goals>
        </execution>
        <execution>
            <id>merge-it-results</id>
            <phase>verify</phase>
            <goals>
                <goal>merge</goal>
            </goals>
            <configuration>
                <fileSets>
                    <fileSet>
                        <directory>${project.build.directory}/</directory>
                        <includes>
                            <include>jacoco-it.exec</include>
                            <include>jacoco-udf.exec</include>
                        </includes>
                    </fileSet>
                </fileSets>
                <destFile>${project.reporting.outputDirectory}/aggregate-it.exec</destFile>
            </configuration>
        </execution>
        <execution>
            <id>report-integration-with-udf</id>
            <phase>verify</phase>
            <goals>
                <goal>report-integration</goal>
            </goals>
            <configuration>
                <dataFile>${project.build.directory}/aggregate-it.exec</dataFile>
            </configuration>
        </execution>
    </executions>
</plugin>